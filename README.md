# Подготовка к WorldSkills
## Пробую разные приемы и фичи
### 29.11.2019 22:00 UPD #1
* Добавлена форма авторизации
* Добавлена форма регистрации, полная проверка новых логина и пароля, отправка пользователя в БД
* Добавлен класс SqlQuery, содержащий функции C# для обращения к БД
* Добавлен класс Features, содержащий полезные для работы функции C#
* Добавлен класс SqlManager, упрощающий работу с SQL запросами
### 30.11.2019 11:00 UPD #2 
#### UPD #2.1 
* Добавил проверку логина при авторизации
* Улучшил читаемость методов с помощью **string.Format** (Приложение 1)
#### UPD #2.2 
* Добавил одну кнопку в меню для просмотра списка пользователей (доступно Директору)
* Создал форму UsersList, на которой расположен DataGridView
* Для вывода информации в этот DataGridView написал новую функцию *SqlQuery.Query_FillDataGridViewWithUsers(DataGridView)*, заполняющую DataGridView данными о пользователях
### 30.11.2019 19:00 UPD #3 
* Добавлены сортировка и фильтрация для UsersList
* В папку со скриптами добавлен новый скрипт, создающий базу с пользователями **и ингридиентами**
* Добавлена новая форма IngredientsList с DataGridView и подключением к БД
#### UPD #3.1 
* Добавлена фильтрация для IngrediensList
#### UPD #3.2
* Добавлена кнопка с удалением выбранного в DataGridView ингредиента из базы и из DataGridView
* Немного отредактирован класс SqlQuery
* Создана форма добавления нового ингредиента с подгрузкой данных для comboBox'ов из базы
#### UPD #3.3
* Единицы измерения вынесены в отдельную таблицу БД
* Обновлены скрипты группы Query_Ingredient_XXX в классе SqlQuery
* Реализована возможность добавления ингредиента в таблицу
* Добавлен счетчик записей на форме IngredientList
* На всех формах отстроена последовательность перехода (если жать на **TAB**, будет перемещаться по элементам формы в нормальном порядке)

> **ВАЖНО!**
>
> Double конвертируется в string с запятой между целой и дробной частью, что может вызвать проблемы при запросе.
>  

## Ближайшие планы:
1. <del>добавить проверку полей при авторизации</del>
1. <del>переписать запросы в читаемую форму</del>
1. <del>добавить форму с DataGridView</del>
    * <del>сортировка</del>
    * <del>фильтрация</del>
2. <del>добавить ещё одну форму с DataGridView с ингредиентами</del>
    * <del>сортировка</del>
    * <del>фильтрация</del>
    * <del>*добавление*</del>
    * <del>удаление</del>
    * **редактирование**
3. поработать с картинками в базе


#### Приложение 1 ####
```csharp
public static void Query_NewUser(string login, string password, int role)
        {
            SqlManager manager = new SqlManager();
            manager.sql_connection.Open();

            string request = string.Format(@"INSERT INTO Users (User_Login, User_Password, Role_ID) " +
                                           @"VALUES ('{0}','{1}', {2})", 
                                           login, password, Convert.ToString(role));
            // ...
            // ...

            return;
        }
```
